<!DOCTYPE html><html lang="en"><meta charset="UTF-8"><meta name="viewport" content="viewport-fit=cover, minimal-ui, width=device-width, initial-scale=1, user-scalable=yes"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="theme-color" content=""><title>vKit Application</title><style></style></head><body><script>
"use strict";

/** vKit **/
(function(global){"use strict"; var _$, UNSET={};function vKit(args){this.end=this;for(var i=0, l=this.length=args.length; i<l; ++i){this[i]=args[i];}}function $(){return new vKit(arguments);}if( typeof module=="object" ){module.exports=$;}$.fn=vKit.prototype;$.global=global;$.version="1.0.7";$.own=function(e,p){var o;p=String(p);return p in e&&(o=e.__proto__||e.constructor.prototype,!(p in o)||e[p]!==o[p]);};$.install=function(){_$=$.own(global, "$") ? global.$ : UNSET;global.$=$;return $;};$.uninstall=function(){if( _$===UNSET ){delete global.$;}else{global.$=_$;}return $;};$.fn.push=function(){for(var i=0, l=arguments.length; i<l; ++i){this[this.length++]=arguments[i];}return this;};$.fn.pop=function(){var item=this[--this.length];delete this[this.length];return item;};$.fn.toArray=function(){var a=[];for(var i=0, l=this.length; i<l; ++i){a.push(this[i]);}return a;};$.fn.each=function(fn){for(var i=0, l=this.length; i<l; ++i){if( fn.call(this, this[i], i)===false ){break;}}return this;};$.fn.forEach=function(array, fn){for(var i=0, l=array.length; i<l; ++i){if( fn.call(this, array[i], i, array)===false ){break;}}return this;};$.fn.on=function(key, callback){key="on"+key;for(var i=0; i in this; ++i){var item=this[i], before=item[key];item[key]=typeof before=="function" ? function(){before.apply(this, arguments);return callback.apply(this, arguments);} : callback;}return this;};$.fn.extend=function(data){for(var i=0; i in this; ++i){var item=this[i]; for(var key in data){item[key]=data[key];}}return this;};$.install();})(this);
(function($){$.createText=function(text){return $(document.createTextNode(text));};$.create=function(tag, count){var sel=$();if( typeof count!="number" )count=1;for(var i=0; i<count; ++i)sel.push(document.createElement(tag));return sel;};$.fn.append=function(){for(var i=0, e, l=arguments.length; i<l; ++i){if( null!==(e=arguments[i]) )typeof e!=="object"? this[0].appendChild(document.createTextNode(e)): e.nodeType? this[0].appendChild(e): this.append.apply(this, $.fn.toArray.call(e));}return this;};$.fn.add=function(tag, count){var sel=$();sel.end=this;if( typeof count!="number" )count=1;for(var j=0, l=this.length; j<l; ++j){var parent=this[j];for(var i=0; i<count; ++i){var ch=parent.ownerDocument.createElement(tag);parent.appendChild(ch);sel.push(ch);}}return sel;};$.fn.addText=function(text){for(var j=this.length, e; j--;)this[j].appendChild( document.createTextNode(text) );return this;};$.fn.html=function(html){for(var i=this.length; i--;)this[i].innerHTML=html;return this;};$.fn.remove=function(){for(var i=this.length, p, c; i--;){c=this[i];p=c.parentNode;if( p )p.removeChild(c);}return this;};$.fn.empty=function(){for(var i=this.length, e, ch; i--;){e=this[i];ch=e.childNodes;while( ch.length>0 )e.removeChild(ch[0]);}return this;};$.fn.id=function(){var sel=$(); sel.end=this;for(var j=this.length, doc; j--;){doc=this[j];for(var i=0, l=arguments.length; i<l; ++i){var element=doc.getElementById(arguments[i]);if( element )sel.push(element);}}return sel;};$.fn.find=function(tag){var sel=$(); sel.end=this;for(var j=this.length, container; j--;){container=this[j].getElementsByTagName(tag);for(var i=0, l=container.length; i<l; ++i)sel.push(container[i]);}return sel;};$.fn.document=function(){var sel=$();sel.end=this;for(var i=this.length, e; i--;){e=this[i];if( e.contentWindow )e=e.contentWindow;if( e.document )sel.push(e.document);}return sel;};$.fn.addClass=function(cname){for(var e=this.length, cns, cnsl, j; e--;){cns=this[e].className.split(" ");cnsl=cns.length;j=0;while( j<cnsl && cns[j]!=cname )++j;if( j>=cnsl )cns.push(cname);this[e].className=cns.join(" ");}return this;};$.fn.removeClass=function(cname){for(var i=this.length, e; i--;){e=this[i];e.className=e.className.replace(new RegExp("\\b"+cname.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&')+"\\b", "g"), "");}return this;};$.fn.hasClass=function(cname){for(var i=this.length, cns, cnsl, j; i--;){cns=this[i].className.split(" ");cnsl=cns.length;j=0;while( j<cnsl && cns[j]!=cname )++j;if( j>=cnsl )return false;}return true;};$.fn.withClass=function(cname){var sel=$();sel.end=this;for(var i=this.length; i--;){if(~(" "+this[i].className+" ").indexOf(" "+cname+" "))sel.push(this[i]);}return sel;};$.fn.style=function(css){var sel=$(); sel.end=this;for(var i=this.length, doc, head, style; i--;){doc=this[i];head=doc.getElementsByTagName("head")[0];style=doc.createElement("style");style.type="text/css";head.appendChild(style);style.styleSheet? (style.styleSheet.cssText=css): style.appendChild( doc.createTextNode(css) );sel.push(style);}return sel;};$.fn.css=function(properties){for(var i=this.length, s; i--;){s=this[i].style;for(var prop in properties)s[prop]=properties[prop];}return this;};})($);
(function($){function findNodes(result, container, type){if( container.nodeType===type )result.push(container);var children = container.childNodes;if(!children)return;for(var i=0, l=children.length; i<l; ++i)findNodes(result, children[i], type);}function deepInsert(object, parent, nextSibling){if(!object)return;if( typeof object!="object" ){parent.insertBefore(document.createTextNode(object), nextSibling);return;}if( object.nodeType ){parent.insertBefore(object, nextSibling);return;}for(var i=0, l=object.length; i<l; ++i){deepInsert(object[i], parent, nextSibling);}}$.html=function(){var result = [], operators = [];var placeholder = "<!---->";for(var i=0, l=arguments.length; i<l; ++i){var arg = arguments[i];if(!arg) continue;if( typeof arg==="function" || typeof arg==="object" ){result.push(placeholder);operators.push(arg);}else{result.push(arg);}}var container = document.createElement("div");container.innerHTML = result.join("");var comments = [];findNodes(comments, container, 8);for(i=0, l=operators.length; i<l; ++i){var operator = operators[i];var comment = comments[i];if( typeof operator==="function" ){while( comment && comment.nodeType==8 ){var prev = comment;comment = comment.previousSibling || comment.parentNode;prev.parentNode.removeChild(prev);}if( comment && comment!==container)operator(comment);}else{deepInsert(operator, comment.parentNode, comment);comment.parentNode.removeChild(comment);}}return $().forEach(container.childNodes, function(node){this.push(node);});};})($);
(function($){$.observable = function(){var subscriptions = {};var id = 0;function render(){for(var id in subscriptions)subscriptions[id].apply(null, arguments);}render.subscribe = function(fn){var cid = ++id;subscriptions[cid] = fn;return function(){delete subscriptions[cid];};};return render;};$.withComponent = function(func){var component = Component.current();return function(){Component.stack.push(component);var ret = func.apply(this, arguments);Component.stack.pop();$.render();return ret;};};$.on = function(type, action){return function(element){element["on" + type] = $.withComponent(action);};};$.effect = function(setter){Component.subscribe(setter);setter();};$.css = function(prop, getter){return function(element){var style = element.style;var oldValue = style[prop] = getter();Component.subscribe(function(){var value = getter();if( oldValue!==value )oldValue = style[prop] = value;});};};$.prop = function(prop, getter){return function(element){var oldValue = element[prop] = getter();Component.subscribe(function(){var value = getter();if( oldValue!==value )oldValue = element[prop] = value;});};};$.text = function(getter){var oldValue;var node = document.createTextNode(oldValue = getter());Component.subscribe(function(){var value = getter();if( oldValue!==value )oldValue = node.nodeValue = value;});return node;};$.component = function(){var component = Component.current();return {index: function(){return component.index;}};};$.unmount = function(func){Component.current().onDestroy.subscribe(func);};$.render = function(){var component = Component.stack[Component.stack.length - 1];while( component.parent && !component.stopEvents )component = component.parent;component.render();};function copyToArray(list){if( list.slice ) return list.slice(0);var length=list.length, array = new Array(length);for(var i=0; i<length; ++i){array[i] = list[i];}return array;}$.map = function(models, getView, stopRender){var A = copyToArray(typeof models=="function" ? models() : models);var curr = new Component(stopRender).setParent( Component.current() );var placeholder = document.createTextNode("");for(var i=0, l=A.length; i<l; ++i){new Component().setParent(curr).setIndex(i).setView(getView, A[i]);}curr.onRender.subscribe(function(){var B = typeof models=="function" ? models() : models;var parent = placeholder.parentNode;var i, n=A.length, m=B.length;for(i=0; i<n; ++i){if( i<m ){if( A[i]===B[i] ){continue;}if( i+1<m ){if( A[i]===B[i+1] ){curr.insertComponent(i, B[i], getView, parent);A.splice(i, 0, B[i++]); ++n;continue;}if( i+2<m ){if( A[i]===B[i+2] ){curr.insertComponent(i, B[i+1], getView, parent);curr.insertComponent(i, B[i], getView, parent);A.splice(i, 0, B[i++], B[i++]); n+=2;continue;}if( i+3<m && A[i]===B[i+3] ){curr.insertComponent(i, B[i+2], getView, parent);curr.insertComponent(i, B[i+1], getView, parent);curr.insertComponent(i, B[i], getView, parent);A.splice(i, 0, B[i++], B[i++], B[i++]); n+=3;continue;}}}}curr.removeComponent(i);A.splice(i, 1); --i; --n;}for(; i<m; ++i){curr.appendComponent(B[i], getView, parent, placeholder);A.push(B[i]);}for(i=0; i<m; ++i)curr.children[i].setIndex(i);});var ret = [];for(var i=0, l=curr.children.length; i<l; ++i){ret.push( curr.children[i].view );}ret.push(placeholder);return ret;};$.is = function(getter, getView, stopRender){var A = getter();var curr = new Component(stopRender).setParent( Component.current() );var placeholder = document.createTextNode("");new Component().setParent(curr).setView(getView, A);curr.onRender.subscribe(function(){var B = getter();if( A===B )return;var parent = placeholder.parentNode;curr.removeComponent(0);curr.appendComponent(B, getView, parent, placeholder);A = B;});return [curr.children[0].view, placeholder];};$.guard = function(condition, getView){var curr = new Component().setParent( Component.current() );new Component().setParent(curr).setView(getView);curr.onRender.subscribe(function(){curr.stopRender = !condition();});return curr.children[0].view;};$.boundary = function(getView){var curr = new Component().setParent( Component.current() ).setView(getView);curr.stopEvents = true;return curr.view;};function Component(stopRender){this.view = null;this.parent = null;this.index = null;this.children = [];this.stopEvents = false;this.stopRender = !!stopRender;this.onRender = $.observable();this.onDestroy = $.observable();}Component.stack = [new Component()];Component.current = function(){return this.stack[this.stack.length - 1];};Component.subscribe = function(fn){return this.current().onRender.subscribe(fn);};Component.prototype.setParent = function(parent){this.parent = parent;parent.children.push( this );return this;};Component.prototype.setIndex = function(index){this.index = index;return this;};Component.prototype.setView = function(getView, model){Component.stack.push(this);this.view = getView(model);Component.stack.pop();return this;};Component.prototype.removeComponent = function(index){var removed = this.children.splice(index, 1)[0];removed.parent = null;removed.remove();return this;};Component.prototype.remove = function(){var children = this.children;for(var i=0, l=children.length; i<l; ++i)children[i].remove();this.onDestroy();var view = this.view;if( view ){for(var i=0, l=view.length; i<l; ++i){var node = view[i];if( node.parentNode )node.parentNode.removeChild(node);}}return this;};Component.prototype.insertComponent = function(index, model, getView, parent){var component = new Component();component.parent = this;component.setView(getView, model);var next = this.children[index];var view = component.view;this.children.splice(index, 0, component);if( next && next.view ){var first = next.view;while( first[0] ) first = first[0];if( parent ){for(var i=0, l=view.length; i<l; ++i){parent.insertBefore(view[i], first);}}}return component;};Component.prototype.appendComponent = function(model, getView, parent, placeholder){var component = new Component();component.parent = this;component.setView(getView, model);var view = component.view;this.children.push(component);if( parent ){for(var i=0, l=view.length; i<l; ++i){parent.insertBefore(view[i], placeholder);}}return component;};Component.prototype.render = function(){this.onRender();if( this.stopRender )return this;var children = this.children;for(var i=0, l=children.length; i<l; ++i){children[i].render();}return this;};})($);
(function($){$.serialize=function(form, append){var submitButton=form.ownerDocument.activeElement;for(var i=0, l=form.elements.length; i<l; ++i){var input=form.elements[i];if(!input.name){continue;}switch( input.type ){case 'submit': case 'image':if( input===submitButton )append(input.name, input.value);break;case 'button': case 'reset': case 'file':break;case 'checkbox': case 'radio':if( input.checked )append(input.name, input.value);break;case 'select-multiple':for(var j=0, lj=input.options.length; j<lj; ++j){var option=input.options[j];option.selected && append(input.name, option.value);}break;default:append(input.name, input.value);}}};})($);

function App(){
	let result = "Click the button";
	
	const onSubmit = e => {
		e.preventDefault();
		const data = {};
		$.serialize(e.target, (key, value) => data[key] = value);
		result = "Name: " + data.name;
	};
	
	return $.html(
		'<p>Hello world</p>',
		'<form>',
			$.on("submit", onSubmit),
			'<input type="text" name="name" value="">',
			'<input type="submit" value="Serialize me!">',
		'</form>',
		'<div>',
			$.text(() => result),
		'</div>'
	);
}

$(document.body).append( App() );

</script></body></html>